<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#8338ec">
  <link rel="manifest" href="manifest.json">
  <title>LUMIX ARTIFICIAL ‚Ä¢ Card√°pio</title>
  <style>
    :root {
      --grad-1: #8338ec; --grad-2: #ff006e; --grad-3: #adff02; --bg: #0c0a09;
      --card: #1c1917; --text: #f2f2f2; --neon-fucsia: #ff006e; --neon-verde: #adff02;
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 0; line-height: 1.5; }
    .hero {
      height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center;
      padding: 0 20px; animation: fadeIn 1s ease-out;
      background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('background.png');
      background-size: cover; background-position: center center; background-repeat: no-repeat;
    }
    .hero img.logo { width: 150px; height: 150px; border-radius: 50%; border: 4px solid var(--neon-verde); box-shadow: 0 0 20px var(--neon-verde), inset 0 0 10px var(--neon-verde); animation: pulse 2s infinite ease-in-out; }
    .hero h1 { font-size: 2.5em; font-weight: 800; margin: 20px 0 10px; text-shadow: 0 0 10px var(--bg); }
    .hero p { font-size: 1.1em; max-width: 500px; opacity: 0.9; text-shadow: 0 0 5px var(--bg); }
    .catalog-wrapper { padding: 20px; }
    .category-filters { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; flex-wrap: wrap; }
    .category-filters button { background: var(--card); color: var(--text); border: 1px solid #333; padding: 10px 20px; border-radius: 20px; cursor: pointer; transition: all 0.2s; }
    .category-filters button.active { background: var(--neon-fucsia); color: white; border-color: var(--neon-fucsia); font-weight: bold; }
    .catalog-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
    .card { background-color: var(--card); border-radius: 12px; overflow: hidden; display: flex; flex-direction: column; border: 1px solid #333; cursor: pointer; transition: transform 0.2s; }
    .card:hover { transform: translateY(-5px); }
    .card-img { height: 160px; width: 100%; object-fit: cover; }
    .card-body { padding: 15px; flex-grow: 1; }
    .card-title { font-size: 1.2em; font-weight: 600; margin: 0 0 5px; }
    .card-desc { font-size: 0.9em; opacity: 0.7; margin: 0 0 15px; }
    .card-footer { padding: 0 15px 15px; display: flex; justify-content: space-between; align-items: center; }
    .price { font-size: 1.3em; font-weight: 700; color: var(--neon-verde); }
    button { background: var(--neon-fucsia); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; text-shadow: 0 0 5px rgba(0,0,0,0.5); }
    button:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--neon-fucsia); }
    .cart-float { position: fixed; bottom: 20px; right: 20px; background: linear-gradient(135deg, var(--grad-1), var(--grad-2)); color: white; border-radius: 50%; width: 60px; height: 60px; display: flex; justify-content: center; align-items: center; font-size: 1.5em; font-weight: 700; cursor: pointer; box-shadow: 0 5px 20px rgba(0,0,0,0.4); z-index: 1000; }
    .modal { display: none; position: fixed; z-index: 1001; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); }
    .modal-content { background: var(--bg); margin: 5% auto; padding: 20px; border: 1px solid var(--neon-fucsia); border-radius: 12px; max-width: 90%; width: 500px; box-shadow: 0 0 30px var(--neon-fucsia); animation: fadeIn 0.3s; }
    .cart-row { display: flex; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid #333; }
    .ghost { background: transparent; border: 1px solid var(--neon-fucsia); color: var(--neon-fucsia); }
    #fsHint { position: fixed; bottom: 10px; left: 10px; right: 10px; background: #333; color: white; text-align: center; padding: 12px; border-radius: 8px; z-index: 2000; display: none; font-size: 0.9em; }
    .category-title { color: var(--neon-verde); font-size: 1.8em; font-weight: bold; margin-top: 40px; margin-bottom: 20px; border-bottom: 2px solid var(--neon-fucsia); padding-bottom: 10px; }
    .product-detail-modal-img { width: 100%; height: 250px; object-fit: cover; border-radius: 10px; margin-bottom: 20px; }
    .product-detail-modal-title { font-size: 2em; margin: 0; }
    .product-detail-modal-price { font-size: 1.5em; color: var(--neon-verde); margin: 10px 0; }
    .product-detail-modal-desc { opacity: 0.8; margin-bottom: 25px; }
  </style>
</head>
<body>

  <div class="hero">
    <img src="logo.png" alt="Logo de LUMIX ARTIFICIAL" class="logo">
    <h1>LUMIX ARTIFICIAL</h1>
    <p>Seu pedido na velocidade da luz. Explore nosso card√°pio interativo e pe√ßa agora.</p>
  </div>

  <div class="catalog-wrapper">
    <div class="category-filters" id="categoryFilters">
      <button class="active" data-category="todos">Todos</button>
      <button data-category="Pratos">Pratos</button>
      <button data-category="Por√ß√µes">Por√ß√µes</button>
      <button data-category="Sobremesas">Sobremesas</button>
      <button data-category="Bebidas">Bebidas</button>
    </div>
    <div id="catalog"></div>
  </div>

  <div class="cart-float" id="openCart" style="display: none;"><span id="cartCount">0</span></div>

  <div class="modal" id="cartModal">
    <div class="modal-content">
      <h2>Seu Pedido</h2>
      <div id="cartItems"></div>
      <hr>
      <h3>Total: <span id="cartTotal">R$ 0,00</span></h3>
      <button id="orderWhats">Pedir pelo WhatsApp</button>
      <button class="ghost" id="closeCart">Continuar Comprando</button>
    </div>
  </div>

  <div class="modal" id="productDetailModal">
    <div class="modal-content" id="productDetailContent">
      </div>
  </div>

  <div id="fsHint">üí° Para uma melhor experi√™ncia, adicione este card√°pio √† sua tela inicial.</div>
  
  <script>
    const catalog = document.getElementById('catalog');
    const cartFloat = document.getElementById('openCart');
    const cartCount = document.getElementById('cartCount');
    const cartModal = document.getElementById('cartModal');
    const cartItems = document.getElementById('cartItems');
    const cartTotal = document.getElementById('cartTotal');
    const openCart = document.getElementById('openCart');
    const closeCart = document.getElementById('closeCart');
    const orderWhats = document.getElementById('orderWhats');
    const fsHint = document.getElementById('fsHint');
    const categoryFilters = document.getElementById('categoryFilters');
    const productDetailModal = document.getElementById('productDetailModal');
    const productDetailContent = document.getElementById('productDetailContent');

    const money = val => val.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
    let cart = {};

    const products = [
      {id: 1, name: 'Picanha na Chapa', price: 89.90, desc: 'Picanha fatiada com mandioca cozida na manteiga de garrafa e vinagrete.', category: 'Pratos', img: 'https://images.pexels.com/photos/853005/pexels-photo-853005.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 2, name: 'Feijoada Completa', price: 59.90, desc: 'Acompanha arroz, couve, farofa, torresmo e laranja. Servida √†s quartas e s√°bados.', category: 'Pratos', img: 'https://images.pexels.com/photos/9940428/pexels-photo-9940428.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 3, name: 'Moqueca de Peixe', price: 79.90, desc: 'Deliciosa moqueca com peixe branco, piment√µes, tomate, leite de coco e azeite de dend√™.', category: 'Pratos', img: 'https://images.pexels.com/photos/8993888/pexels-photo-8993888.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 4, name: 'Strogonoff de Frango', price: 45.50, desc: 'Cremoso strogonoff com cogumelos, acompanha arroz branco e batata palha.', category: 'Pratos', img: 'https://images.pexels.com/photos/13523293/pexels-photo-13523293.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 5, name: 'Parmegiana de Mignon', price: 65.00, desc: 'Bife de fil√© mignon √† parmegiana com muito queijo, acompanha arroz e fritas.', category: 'Pratos', img: 'https://images.pexels.com/photos/10398075/pexels-photo-10398075.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},
      {id: 6, name: 'Fritas com Cheddar e Bacon', price: 35.90, desc: 'Por√ß√£o generosa de batatas fritas crocantes com cheddar cremoso e bacon em cubos.', category: 'Por√ß√µes', img: 'https://images.pexels.com/photos/115740/pexels-photo-115740.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 7, name: 'An√©is de Cebola', price: 29.90, desc: 'An√©is de cebola empanados e crocantes, acompanha molho barbecue da casa.', category: 'Por√ß√µes', img: 'https://images.pexels.com/photos/4106411/pexels-photo-4106411.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 8, name: 'Mandioca Frita Cremosa', price: 28.50, desc: 'Mandioca cozida e depois frita, super cremosa por dentro. Acompanha queijo coalho.', category: 'Por√ß√µes', img: 'https://images.pexels.com/photos/12948911/pexels-photo-12948911.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 9, name: 'Iscas de Frango', price: 38.00, desc: 'Tirinhas de frango empanadas e fritas, perfeitas para petiscar. Acompanha molho de mostarda e mel.', category: 'Por√ß√µes', img: 'https://images.pexels.com/photos/60616/appetizer-bread-platter-breakfast-60616.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 10, name: 'Past√©is de Carne Seca', price: 32.00, desc: 'Por√ß√£o com 8 mini past√©is recheados com carne seca desfiada e catupiry.', category: 'Por√ß√µes', img: 'https://images.pexels.com/photos/8145265/pexels-photo-8145265.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},
      {id: 11, name: 'Pudim de Leite', price: 15.00, desc: 'Cl√°ssico pudim de leite condensado com calda de caramelo, cremoso e irresist√≠vel.', category: 'Sobremesas', img: 'https://images.pexels.com/photos/4694293/pexels-photo-4694293.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 12, name: 'Mousse de Maracuj√°', price: 18.00, desc: 'Mousse aerado com o azedinho e doce na medida certa, com calda de maracuj√° fresco.', category: 'Sobremesas', img: 'https://images.pexels.com/photos/5741151/pexels-photo-5741151.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 13, name: 'A√ßa√≠ na Tigela (500ml)', price: 25.00, desc: 'A√ßa√≠ batido com banana, acompanha granola, leite em p√≥ e leite condensado.', category: 'Sobremesas', img: 'https://images.pexels.com/photos/5946639/pexels-photo-5946639.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 14, name: 'Petit Gateau', price: 22.90, desc: 'Bolinho quente de chocolate com interior cremoso, servido com sorvete de creme e calda.', category: 'Sobremesas', img: 'https://images.pexels.com/photos/6938018/pexels-photo-6938018.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 15, name: 'Torta Holandesa', price: 19.90, desc: 'Fatia de torta com base de biscoito, creme holand√™s e cobertura de chocolate.', category: 'Sobremesas', img: 'https://images.pexels.com/photos/101533/pexels-photo-101533.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},
      {id: 16, name: 'Caipirinha de Lim√£o', price: 18.00, desc: 'A tradicional caipirinha brasileira, feita com cacha√ßa de qualidade, lim√£o e a√ß√∫car.', category: 'Bebidas', img: 'https://images.pexels.com/photos/4397732/pexels-photo-4397732.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 17, name: 'Guaran√° Antarctica (Lata)', price: 7.00, desc: 'O refrigerante com o sabor original do Brasil.', category: 'Bebidas', img: 'https://images.pexels.com/photos/1301373/pexels-photo-1301373.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 18, name: 'Caldo de Cana (500ml)', price: 9.00, desc: 'Garapa gelada, mo√≠da na hora. Pe√ßa com lim√£o ou abacaxi.', category: 'Bebidas', img: 'https://images.pexels.com/photos/1429424/pexels-photo-1429424.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 19, name: 'Suco de Laranja Natural (500ml)', price: 10.00, desc: 'Feito com laranjas frescas espremidas na hora.', category: 'Bebidas', img: 'https://images.pexels.com/photos/161586/juice-fruit-superfood-drink-161586.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'},{id: 20, name: 'Cerveja Long Neck', price: 12.00, desc: 'Escolha entre Heineken, Budweiser ou Stella Artois.', category: 'Bebidas', img: 'https://images.pexels.com/photos/1267697/pexels-photo-1267697.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1'}
    ];
    
    // ** FUNCI√ìN DE RENDERIZADO MODIFICADA **
    function renderCatalog(filter = 'todos') {
      catalog.innerHTML = '';
      if (filter === 'todos') {
        const categories = [...new Set(products.map(p => p.category))];
        categories.forEach(category => {
          catalog.innerHTML += `<h2 class="category-title">${category}</h2>`;
          const categoryGrid = document.createElement('div');
          categoryGrid.className = 'catalog-grid';
          products.filter(p => p.category === category).forEach(p => {
            const el = createProductCard(p);
            categoryGrid.appendChild(el);
          });
          catalog.appendChild(categoryGrid);
        });
      } else {
        const catalogGrid = document.createElement('div');
        catalogGrid.className = 'catalog-grid';
        products.filter(p => p.category === filter).forEach(p => {
          const el = createProductCard(p);
          catalogGrid.appendChild(el);
        });
        catalog.appendChild(catalogGrid);
      }
      addCardEventListeners();
    }

    function createProductCard(p) {
      const el = document.createElement('div');
      el.className = 'card';
      el.dataset.details = p.id;
      el.innerHTML = `
        <img src="${p.img}" alt="${p.name}" class="card-img">
        <div class="card-body">
          <h3 class="card-title">${p.name}</h3>
          <p class="card-desc">${p.desc}</p>
        </div>
        <div class="card-footer">
          <span class="price">${money(p.price)}</span>
          <button>Ver Detalhes</button>
        </div>
      `;
      return el;
    }

    function showProductDetail(id) {
        const p = products.find(x => x.id == id);
        productDetailContent.innerHTML = `
            <img src="${p.img}" alt="${p.name}" class="product-detail-modal-img">
            <h2 class="product-detail-modal-title">${p.name}</h2>
            <p class="product-detail-modal-price">${money(p.price)}</p>
            <p class="product-detail-modal-desc">${p.desc}</p>
            <button id="addToCartFromDetail">Adicionar ao Carrinho</button>
            <button class="ghost" id="closeDetailModal">Voltar</button>
        `;
        productDetailModal.style.display = 'block';

        document.getElementById('addToCartFromDetail').addEventListener('click', () => {
            addToCart(id);
            productDetailModal.style.display = 'none';
        });
        document.getElementById('closeDetailModal').addEventListener('click', () => {
            productDetailModal.style.display = 'none';
        });
    }

    function addCardEventListeners() {
        document.querySelectorAll('[data-details]').forEach(card => card.addEventListener('click', e => {
            const id = +e.currentTarget.dataset.details;
            showProductDetail(id);
        }));
    }

    function addToCart(id) { cart[id] = (cart[id] || 0) + 1; updateCartUI(); }
    function removeFromCart(id) { if (!cart[id]) return; cart[id]--; if (cart[id] <= 0) delete cart[id]; updateCartUI(); }
    function updateCartUI() {
      const totalCount = Object.values(cart).reduce((s, v) => s + v, 0);
      const totalValue = Object.entries(cart).reduce((s, [id, qty]) => s + (products.find(p => p.id == id).price * qty), 0);
      cartFloat.style.display = totalCount > 0 ? 'flex' : 'none';
      cartCount.textContent = totalCount;
      cartTotal.textContent = money(totalValue);
      cartItems.innerHTML = '';
      Object.entries(cart).forEach(([id, qty]) => {
        const p = products.find(x => x.id == id);
        const row = document.createElement('div');
        row.className = 'cart-row';
        row.innerHTML = `<div>${p.name} x ${qty}</div><div>${money(p.price * qty)} <button class='ghost' data-rem='${p.id}'>-</button></div>`;
        cartItems.appendChild(row);
      });
      document.querySelectorAll('[data-rem]').forEach(b => b.addEventListener('click', e => { removeFromCart(+e.currentTarget.dataset.rem); }));
    }
    
    categoryFilters.addEventListener('click', (e) => {
      if (e.target.tagName === 'BUTTON') {
        const selectedCategory = e.target.dataset.category;
        categoryFilters.querySelectorAll('button').forEach(btn => btn.classList.remove('active'));
        e.target.classList.add('active');
        renderCatalog(selectedCategory);
      }
    });

    openCart.addEventListener('click', () => { cartModal.style.display = 'block' });
    closeCart.addEventListener('click', () => { cartModal.style.display = 'none' });
    productDetailModal.addEventListener('click', (e) => {
        if (e.target === productDetailModal) {
            productDetailModal.style.display = 'none';
        }
    });

    orderWhats.addEventListener('click', () => {
      const phone = '+5511999998888'; 
      let lines = ['*Ol√° LUMIX ARTIFICIAL! ü§ñ Gostaria de fazer um pedido:*\n'];
      Object.entries(cart).forEach(([id, qty]) => {
        const p = products.find(x => x.id == id);
        lines.push(`- ${qty} x ${p.name}`);
      });
      const total = Object.entries(cart).reduce((s, [id, qty]) => s + (products.find(p => p.id == id).price * qty), 0);
      lines.push('\n*Total estimado: ' + money(total) + '*');
      const text = encodeURIComponent(lines.join('\n'));
      const base = 'https://wa.me/' + phone.replace(/\+/g, '');
      window.open(base + '?text=' + text, '_blank');
    });

    renderCatalog();
    updateCartUI();
    
    setTimeout(() => { fsHint.style.display = 'block'; setTimeout(() => { fsHint.style.display = 'none' }, 6000); }, 2000);
  </script>
</body>
</html>


