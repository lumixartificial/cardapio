<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>CARDAPIO LUMIX • Cardápio</title>

  <meta property="og:title" content="CARDAPIO LUMIX | Peça Agora!">
  <meta property="og:description" content="Explore nosso cardápio interativo e faça seu pedido na velocidade da luz.">
  <meta property="og:type" content="website">
  
  <meta property="og:image" content="https://lumixartificial.github.io/tu-cardapio/social-preview.png">
  <meta property="og:url" content="https://lumixartificial.github.io/tu-cardapio/">

  <meta name="twitter:card" content="summary_large_image">

  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="theme-color" content="#8338ec">
  <link rel="manifest" href="manifest.json">
  
  <style>
    :root {
      --grad-1: #8338ec; --grad-2: #ff006e; --grad-3: #adff02; --bg: #0c0a09;
      --card: #1c1917; --text: #f2f2f2; --neon-fucsia: #ff006e; --neon-verde: #adff02;
    }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; background-color: var(--bg); color: var(--text); margin: 0; padding: 0; line-height: 1.5; }
    .hero { height: 60vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; padding: 0 20px; animation: fadeIn 1s ease-out; background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('background.png'); background-size: cover; background-position: center center; background-repeat: no-repeat; }
    .hero img.logo { width: 150px; height: 150px; border-radius: 50%; border: 4px solid var(--neon-verde); box-shadow: 0 0 20px var(--neon-verde), inset 0 0 10px var(--neon-verde); animation: pulse 2s infinite ease-in-out; }
    .hero h1 { font-size: 2.5em; font-weight: 800; margin: 20px 0 10px; text-shadow: 0 0 10px var(--bg); }
    .hero p { font-size: 1.1em; max-width: 500px; opacity: 0.9; text-shadow: 0 0 5px var(--bg); }
    .catalog-wrapper { padding: 0 20px 20px 20px; }
    .toolbar { display: flex; gap: 10px; margin: 20px 0; align-items: center; }
    #searchBar { flex-grow: 1; background-color: var(--card); border: 1px solid #333; color: var(--text); border-radius: 20px; padding: 12px 20px; font-size: 1em; }
    #notificationsBtn { background-color: var(--card); border: 1px solid #333; color: var(--text); border-radius: 50%; width: 45px; height: 45px; font-size: 1.5em; cursor: pointer; flex-shrink: 0; display: flex; align-items: center; justify-content: center; transition: color 0.2s; }
    #notificationsBtn.active { color: var(--neon-fucsia); }
    .category-filters { display: flex; justify-content: center; gap: 10px; margin-bottom: 25px; flex-wrap: wrap; }
    .category-filters button { background: var(--card); color: var(--text); border: 1px solid #333; padding: 10px 20px; border-radius: 20px; cursor: pointer; transition: all 0.2s; }
    .category-filters button.active { background: var(--neon-fucsia); color: white; border-color: var(--neon-fucsia); font-weight: bold; }
    .catalog-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
    .category-title { color: var(--neon-verde); font-size: 1.8em; font-weight: bold; margin-top: 40px; margin-bottom: 20px; border-bottom: 2px solid var(--neon-fucsia); padding-bottom: 10px; }
    .product-row { display: flex; overflow-x: auto; gap: 15px; padding: 10px; margin: 0 -10px; scrollbar-width: thin; scrollbar-color: var(--neon-fucsia) var(--card); user-select: none; /* Evita seleccionar texto al arrastrar */ cursor: grab; }
    .product-row.active { cursor: grabbing; }
    .product-row::-webkit-scrollbar { height: 8px; }
    .product-row::-webkit-scrollbar-thumb { background-color: var(--neon-fucsia); border-radius: 4px; }
    .product-row::-webkit-scrollbar-track { background-color: var(--card); }
    .card { background-color: var(--card); border-radius: 12px; overflow: hidden; display: flex; flex-direction: column; border: 1px solid #333; cursor: pointer; transition: transform 0.2s; width: 280px; flex-shrink: 0; }
    .card:hover { transform: translateY(-5px); }
    .card-img { height: 160px; width: 100%; object-fit: cover; pointer-events: none; /* Evita que la imagen interfiera con el arrastre */ }
    .card-body { padding: 15px; flex-grow: 1; }
    .card-title { font-size: 1.2em; font-weight: 600; margin: 0 0 5px; }
    .card-desc { font-size: 0.9em; opacity: 0.7; margin: 0 0 15px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; text-overflow: ellipsis; }
    .card-footer { padding: 0 15px 15px; display: flex; justify-content: space-between; align-items: center; }
    .price { font-size: 1.3em; font-weight: 700; color: var(--neon-verde); }
    button { background: var(--neon-fucsia); color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; text-shadow: 0 0 5px rgba(0,0,0,0.5); }
    button:hover { transform: scale(1.05); box-shadow: 0 0 20px var(--neon-fucsia); }
    .cart-float { position: fixed; bottom: 20px; right: 20px; background: linear-gradient(135deg, var(--grad-1), var(--grad-2)); color: white; border-radius: 50%; width: 60px; height: 60px; display: flex; justify-content: center; align-items: center; font-size: 1.5em; font-weight: 700; cursor: pointer; box-shadow: 0 5px 20px rgba(0,0,0,0.4); z-index: 1000; }
    .modal { display: none; position: fixed; z-index: 1001; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); backdrop-filter: blur(5px); overflow-y: auto; }
    .modal-content { background: var(--bg); margin: 5% auto; padding: 25px; border: 1px solid var(--neon-fucsia); border-radius: 12px; max-width: 90%; width: 500px; box-shadow: 0 0 30px var(--neon-fucsia); animation: fadeIn 0.3s; }
    .cart-row { display: flex; flex-direction: column; padding: 10px 0; border-bottom: 1px solid #333; }
    .cart-row-main { display: flex; justify-content: space-between; align-items: center; }
    .cart-row-options { font-size: 0.8em; opacity: 0.7; margin-top: 5px; padding-left: 10px; border-left: 2px solid var(--neon-fucsia); }
    .ghost { background: transparent; border: 1px solid var(--neon-fucsia); color: var(--neon-fucsia); }
    .product-detail-modal-img { width: 100%; height: 250px; object-fit: cover; border-radius: 10px; margin-bottom: 20px; }
    .product-detail-modal-title { font-size: 2em; margin: 0; }
    .product-detail-modal-price { font-size: 1.5em; color: var(--neon-verde); margin: 10px 0; }
    .product-detail-modal-desc { opacity: 0.8; margin-bottom: 25px; }
    .options-form h3 { color: var(--neon-verde); margin-top: 25px; margin-bottom: 10px; font-size: 1.1em; }
    .options-form .radio-group label { display: flex; align-items: center; background-color: var(--card); padding: 15px; border-radius: 8px; margin-bottom: 10px; cursor: pointer; border: 2px solid #333; transition: border-color 0.2s; }
    .options-form .radio-group input:checked + label { border-color: var(--neon-fucsia); }
    .options-form .radio-group input { display: none; }
    .options-form textarea { width: 100%; background-color: var(--card); border: 1px solid #333; color: var(--text); border-radius: 8px; padding: 10px; min-height: 80px; box-sizing: border-box; }
  </style>
</head>
<body>
    <div class="hero">
        <img src="logo.png" alt="Logo de LUMIX ARTIFICIAL" class="logo">
        <h1>CARDAPIO LUMIX</h1>
        <p>Seu pedido na velocidade da luz. Explore nosso cardápio interativo e peça agora.</p>
    </div>
    <div class="catalog-wrapper">
        <div class="toolbar">
            <input type="search" id="searchBar" placeholder="🔎 Buscar no cardápio...">
            <button id="notificationsBtn" title="Ativar notificações">🔔</button>
        </div>
        <div class="category-filters" id="categoryFilters"></div>
        <div id="catalog"></div>
    </div>
    <div class="cart-float" id="openCart" style="display: none;"><span id="cartCount">0</span></div>
    <div class="modal" id="cartModal">
        <div class="modal-content">
            <h2>Seu Pedido</h2>
            <div id="cartItems"></div>
            <hr>
            <h3>Total: <span id="cartTotal">R$ 0,00</span></h3>
            <button id="orderWhats">Pedir pelo WhatsApp</button>
            <button class="ghost" id="closeCart">Continuar Comprando</button>
        </div>
    </div>
    <div class="modal" id="productDetailModal">
        <div class="modal-content" id="productDetailContent"></div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
        const catalog = document.getElementById('catalog');
        const categoryFilters = document.getElementById('categoryFilters');
        const productDetailModal = document.getElementById('productDetailModal');
        const productDetailContent = document.getElementById('productDetailContent');
        const cartFloat = document.getElementById('openCart');
        const cartCount = document.getElementById('cartCount');
        const cartModal = document.getElementById('cartModal');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const openCart = document.getElementById('openCart');
        const closeCart = document.getElementById('closeCart');
        const orderWhats = document.getElementById('orderWhats');
        const searchBar = document.getElementById('searchBar');
        const notificationsBtn = document.getElementById('notificationsBtn');
        let cart = [];
        const money = val => val.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });
        const products = [
            {id: 1, name: 'Picanha na Chapa', price: 89.90, desc: 'Picanha fatiada com mandioca cozida na manteiga de garrafa e vinagrete.', category: 'Pratos', img: 'images/1.png', options: { protein: ['Carne Bovina', 'Carne de Sol'], cutlery: true }}, {id: 4, name: 'Strogonoff', price: 45.50, desc: 'Cremoso strogonoff com cogumelos, acompanha arroz branco e batata palha.', category: 'Pratos', img: 'images/4.png', options: { protein: ['Frango', 'Filé Mignon'], cutlery: true }}, {id: 2, name: 'Feijoada Completa', price: 59.90, desc: 'Acompanha arroz, couve, farofa, torresmo e laranja. Servida às quartas e sábados.', category: 'Pratos', img: 'images/2.png'}, {id: 3, name: 'Moqueca de Peixe', price: 79.90, desc: 'Deliciosa moqueca com peixe branco, pimentões, tomate, leite de coco e azeite de dendê. Acompanha arroz e pirão.', category: 'Pratos', img: 'images/3.png', options: { cutlery: true }}, {id: 5, name: 'Parmegiana de Mignon', price: 65.00, desc: 'Bife de filé mignon à parmegiana com muito queijo, acompanha arroz e fritas.', category: 'Pratos', img: 'images/5.png', options: { cutlery: true }}, {id: 24, name: 'Baião de Dois', price: 52.00, desc: 'Prato nordestino com arroz, feijão fradinho, carne seca, queijo coalho e cheiro-verde.', category: 'Pratos', img: 'images/24.png'}, {id: 25, name: 'Lasanha à Bolonhesa', price: 48.00, desc: 'Generosa porção de lasanha com massa fresca, molho bolonhesa e queijo mussarela gratinado.', category: 'Pratos', img: 'images/25.png', options: { cutlery: true }}, {id: 26, name: 'Salmão Grelhado', price: 75.00, desc: 'Posta de salmão grelhado ao molho de maracujá, acompanha arroz com brócolis e legumes.', category: 'Pratos', img: 'images/26.png', options: { cutlery: true }}, {id: 6, name: 'Fritas com Cheddar e Bacon', price: 35.90, desc: 'Porção generosa de batatas fritas crocantes com cheddar cremoso e bacon em cubos.', category: 'Porções', img: 'images/6.png'}, {id: 7, name: 'Anéis de Cebola', price: 29.90, desc: 'Anéis de cebola empanados e crocantes, acompanha molho barbecue da casa.', category: 'Porções', img: 'images/7.png'}, {id: 27, name: 'Dadinho de Tapioca', price: 32.00, desc: 'Cubinhos de tapioca com queijo coalho, acompanha geleia de pimenta.', category: 'Porções', img: 'images/27.png'}, {id: 28, name: 'Torresmo de Rolo', price: 45.00, desc: 'Pancetta de porco pururucada, crocante por fora e macia por dentro. Acompanha limão.', category: 'Porções', img: 'images/28.png'}, {id: 29, name: 'Bolinho de Bacalhau', price: 38.00, desc: 'Porção com 10 unidades do clássico bolinho de bacalhau português.', category: 'Porções', img: 'images/29.png'}, {id: 30, name: 'Tábua de Frios', price: 68.00, desc: 'Seleção de queijos, salames, presunto de parma, azeitonas e pães.', category: 'Porções', img: 'images/30.png'}, {id: 9, name: 'Iscas de Tilápia', price: 42.00, desc: 'Tirinhas de tilápia empanadas e fritas, perfeitas para petiscar. Acompanha molho tártaro.', category: 'Porções', img: 'images/9.png'}, {id: 10, name: 'Pastéis Mistos', price: 32.00, desc: 'Porção com 8 pastéis: Carne Seca com Catupiry e Queijo.', category: 'Porções', img: 'images/10.png'}, {id: 11, name: 'Pudim de Leite', price: 15.00, desc: 'Clássico pudim de leite condensado com calda de caramelo, cremoso e irresistível.', category: 'Sobremesas', img: 'images/11.png'}, {id: 12, name: 'Mousse de Maracujá', price: 18.00, desc: 'Mousse aerado com o azedinho e doce na medida certa, com calda de maracujá fresco.', category: 'Sobremesas', img: 'images/12.png'}, {id: 13, name: 'Açaí na Tigela (500ml)', price: 25.00, desc: 'Açaí batido com banana, acompanha granola, leite em pó e leite condensado.', category: 'Sobremesas', img: 'images/13.png'}, {id: 14, name: 'Petit Gateau', price: 22.90, desc: 'Bolinho quente de chocolate com interior cremoso, servido com sorvete de creme e calda.', category: 'Sobremesas', img: 'images/14.png'}, {id: 15, name: 'Torta Holandesa', price: 19.90, desc: 'Fatia de torta com base de biscoito, creme holandês e cobertura de chocolate.', category: 'Sobremesas', img: 'images/15.png'}, {id: 31, name: 'Cheesecake de Frutas Vermelhas', price: 24.00, desc: 'Fatia da famosa torta de queijo com uma generosa calda de frutas vermelhas.', category: 'Sobremesas', img: 'images/31.png'}, {id: 32, name: 'Salada de Frutas', price: 16.00, desc: 'Mix de frutas da estação: mamão, melão, morango, uva e manga.', category: 'Sobremesas', img: 'images/32.png'}, {id: 16, name: 'Caipirinha de Limão', price: 18.00, desc: 'A tradicional caipirinha brasileira, feita com cachaça de qualidade, limão e açúcar.', category: 'Bebidas', img: 'images/16.png'}, {id: 17, name: 'Guaraná Antarctica (Lata)', price: 7.00, desc: 'O refrigerante com o sabor original do Brasil.', category: 'Bebidas', img: 'images/17.png'}, {id: 18, name: 'Água de Coco (500ml)', price: 9.00, desc: 'Água de coco natural e gelada, direto da fruta.', category: 'Bebidas', img: 'images/18.png'}, {id: 19, name: 'Suco de Laranja Natural (500ml)', price: 10.00, desc: 'Feito com laranjas frescas espremidas na hora.', category: 'Bebidas', img: 'images/19.png'}, {id: 20, name: 'Cerveja Long Neck', price: 12.00, desc: 'Escolha entre Heineken, Budweiser ou Stella Artois.', category: 'Bebidas', img: 'images/20.png'}, {id: 33, name: 'Coca-Cola (Lata)', price: 7.00, desc: 'Coca-Cola original, gelada e refrescante.', category: 'Bebidas', img: 'images/33.png'}, {id: 34, name: 'Café Espresso', price: 6.00, desc: 'Café forte e encorpado para finalizar sua refeição.', category: 'Bebidas', img: 'images/34.png'}];
        function renderCategories() { const categories = ['Todos', ...new Set(products.map(p => p.category).filter(c => c))]; categoryFilters.innerHTML = ''; categories.forEach(category => { const btn = document.createElement('button'); btn.dataset.category = category.toLowerCase(); btn.textContent = category; categoryFilters.appendChild(btn); }); }
        function renderCatalog(searchTerm = '', categoryFilter = 'todos') { catalog.innerHTML = ''; const searchLower = searchTerm.toLowerCase(); const filteredProducts = products.filter(p => { const matchesCategory = categoryFilter === 'todos' || (p.category && p.category.toLowerCase() === categoryFilter); const matchesSearch = p.name.toLowerCase().includes(searchLower) || p.desc.toLowerCase().includes(searchLower); return matchesCategory && matchesSearch; }); if (categoryFilter === 'todos' && searchTerm === '') { const categories = [...new Set(products.map(p => p.category).filter(c => c))]; categories.forEach(category => { catalog.innerHTML += `<h2 class="category-title">${category}</h2>`; const productRow = document.createElement('div'); productRow.className = 'product-row'; products.filter(p => p.category === category).forEach(p => { productRow.appendChild(createProductCard(p)); }); catalog.appendChild(productRow); }); } else { const catalogGrid = document.createElement('div'); catalogGrid.className = 'catalog-grid'; filteredProducts.forEach(p => { catalogGrid.appendChild(createProductCard(p)); }); catalog.appendChild(catalogGrid); } addCardEventListeners(); addDragScrollToRows(); }
        function createProductCard(p) { const el = document.createElement('div'); el.className = 'card'; el.dataset.details = p.id; el.innerHTML = `<img src="${p.img}" alt="${p.name}" class="card-img"><div class="card-body"><h3 class="card-title">${p.name}</h3><p class="card-desc">${p.desc}</p></div><div class="card-footer"><span class="price">${money(p.price)}</span><button class="ghost">${p.options ? 'Ver Opções' : 'Adicionar'}</button></div>`; return el; }
        function showProductDetail(id) { const p = products.find(x => x.id == id); let optionsHtml = ''; if (p.options) { optionsHtml += '<form id="productOptionsForm" class="options-form">'; if (p.options.protein) { optionsHtml += '<h3>Escolha a Proteína</h3><div class="radio-group">'; p.options.protein.forEach((item, index) => { optionsHtml += `<input type="radio" id="protein_${index}" name="protein" value="${item}" ${index === 0 ? 'checked' : ''}><label for="protein_${index}">${item}</label>`; }); optionsHtml += '</div>'; } if (p.options.cutlery) { optionsHtml += '<h3>Precisa de talheres?</h3><div class="radio-group">'; optionsHtml += `<input type="radio" id="cutlery_yes" name="cutlery" value="Sim" checked><label for="cutlery_yes">Sim</label><input type="radio" id="cutlery_no" name="cutlery" value="Não"><label for="cutlery_no">Não</label>`; optionsHtml += '</div>'; } optionsHtml += '<h3>Observações</h3><textarea id="observations" placeholder="Ex: tirar a cebola, ponto da carne, etc."></textarea>'; optionsHtml += '</form>'; } productDetailContent.innerHTML = `<img src="${p.img}" alt="${p.name}" class="product-detail-modal-img"><h2 class="product-detail-modal-title">${p.name}</h2><p class="product-detail-modal-price">${money(p.price)}</p><p class="product-detail-modal-desc">${p.desc}</p>${optionsHtml} <br><button id="addToCartFromDetail">Adicionar ao Carrinho</button><button class="ghost" id="closeDetailModal">Voltar</button>`; productDetailModal.style.display = 'block'; document.getElementById('addToCartFromDetail').addEventListener('click', () => { const selectedOptions = {}; const form = document.getElementById('productOptionsForm'); if (form) { const protein = form.querySelector('input[name="protein"]:checked'); if (protein) selectedOptions.protein = protein.value; const cutlery = form.querySelector('input[name="cutlery"]:checked'); if (cutlery) selectedOptions.cutlery = cutlery.value; const obs = form.querySelector('#observations'); if (obs && obs.value.trim() !== '') selectedOptions.observações = obs.value.trim(); } addToCart(id, selectedOptions); productDetailModal.style.display = 'none'; }); document.getElementById('closeDetailModal').addEventListener('click', () => { productDetailModal.style.display = 'none'; }); }
        function addCardEventListeners() { document.querySelectorAll('[data-details]').forEach(card => { let isDragging = false; card.addEventListener('mousedown', () => { isDragging = false; }); card.addEventListener('mousemove', () => { isDragging = true; }); card.addEventListener('mouseup', e => { if (isDragging) return; const id = +e.currentTarget.dataset.details; const product = products.find(p => p.id === id); if (e.target.tagName === 'BUTTON' && !product.options) { e.stopPropagation(); addToCart(id); } else { showProductDetail(id); } }); }); }
        function addDragScrollToRows() { const sliders = document.querySelectorAll('.product-row'); sliders.forEach(slider => { let isDown = false; let startX; let scrollLeft; slider.addEventListener('mousedown', (e) => { isDown = true; slider.classList.add('active'); startX = e.pageX - slider.offsetLeft; scrollLeft = slider.scrollLeft; }); slider.addEventListener('mouseleave', () => { isDown = false; slider.classList.remove('active'); }); slider.addEventListener('mouseup', () => { isDown = false; slider.classList.remove('active'); }); slider.addEventListener('mousemove', (e) => { if (!isDown) return; e.preventDefault(); const x = e.pageX - slider.offsetLeft; const walk = (x - startX) * 2; slider.scrollLeft = scrollLeft - walk; }); }); }
        function addToCart(productId, options = {}) { const product = products.find(p => p.id === productId); const optionsKey = JSON.stringify(options); const existingItem = cart.find(item => item.productId === productId && JSON.stringify(item.options) === optionsKey); if (existingItem) { existingItem.quantity++; } else { cart.push({ cartItemId: Date.now().toString(), productId, quantity: 1, options, name: product.name, price: product.price }); } updateCartUI(); }
        function removeFromCart(cartItemId) { const itemIndex = cart.findIndex(item => item.cartItemId === cartItemId); if (itemIndex > -1) { cart[itemIndex].quantity--; if (cart[itemIndex].quantity <= 0) cart.splice(itemIndex, 1); } updateCartUI(); }
        function updateCartUI() { const totalCount = cart.reduce((sum, item) => sum + item.quantity, 0); const totalValue = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0); cartFloat.style.display = totalCount > 0 ? 'flex' : 'none'; cartCount.textContent = totalCount; cartTotal.textContent = money(totalValue); cartItems.innerHTML = ''; cart.forEach(item => { let optionsText = Object.entries(item.options).map(([key, value]) => `<strong>${key.charAt(0).toUpperCase() + key.slice(1)}:</strong> ${value}`).join('<br>'); const row = document.createElement('div'); row.className = 'cart-row'; row.innerHTML = `<div class="cart-row-main"><span>${item.name} x ${item.quantity}</span><span>${money(item.price * item.quantity)} <button class='ghost' data-rem='${item.cartItemId}'>-</button></span></div>${optionsText ? `<div class="cart-row-options">${optionsText}</div>` : ''}`; cartItems.appendChild(row); }); document.querySelectorAll('[data-rem]').forEach(b => b.addEventListener('click', e => { removeFromCart(e.currentTarget.dataset.rem); })); localStorage.setItem('lumixCart', JSON.stringify(cart)); }
        function loadCart() { const savedCart = localStorage.getItem('lumixCart'); if (savedCart) { try { cart = JSON.parse(savedCart) || []; } catch (e) { cart = []; } } }
        function setupEventListeners() { categoryFilters.addEventListener('click', e => { if (e.target.tagName === 'BUTTON') { const selectedCategory = e.target.dataset.category; categoryFilters.querySelectorAll('button').forEach(btn => btn.classList.remove('active')); e.target.classList.add('active'); renderCatalog(searchBar.value, selectedCategory); } }); searchBar.addEventListener('input', () => { const activeBtn = categoryFilters.querySelector('button.active'); renderCatalog(searchBar.value, activeBtn ? activeBtn.dataset.category : 'todos'); }); openCart.addEventListener('click', () => { cartModal.style.display = 'block'; }); closeCart.addEventListener('click', () => { cartModal.style.display = 'none'; }); productDetailModal.addEventListener('click', e => { if (e.target === productDetailModal) productDetailModal.style.display = 'none'; }); orderWhats.addEventListener('click', () => { const phone = '+5562999998888'; let lines = ['*Olá CARDAPIO LUMIX! 🤖 Gostaria de fazer um pedido:*\n']; cart.forEach(item => { lines.push(`- ${item.quantity}x ${item.name}`); let optionsText = Object.entries(item.options).map(([key, value]) => `  - ${key.charAt(0).toUpperCase() + key.slice(1)}: ${value}`).join('\n'); if (optionsText) lines.push(optionsText); }); const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0); lines.push('\n*Total estimado: ' + money(total) + '*'); const text = encodeURIComponent(lines.join('\n')); window.open('https://wa.me/' + phone.replace(/\+/g, '') + '?text=' + text, '_blank'); }); notificationsBtn.addEventListener('click', () => { Notification.requestPermission().then(permission => { if (permission === 'granted') { notificationsBtn.classList.add('active'); new Notification('CARDAPIO LUMIX', { body: 'Pronto! Agora você receberá nossas novidades e promoções.', icon: 'logo.png' }); } }); }); }
        function registerServiceWorker() { if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js').catch(err => console.error('Falha ao registrar Service Worker:', err)); } }
        function init() { loadCart(); renderCategories(); renderCatalog(); updateCartUI(); setupEventListeners(); registerServiceWorker(); const firstCategoryButton = categoryFilters.querySelector('button'); if(firstCategoryButton) firstCategoryButton.classList.add('active'); }
        init();
    });
    </script>
</body>
</html>



